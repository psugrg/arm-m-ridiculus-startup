source /usr/share/openocd/scripts/interface/stlink.cfg

set WORKAREASIZE 0x5000

transport select "hla_swd"

set CHIPNAME STM32L475VGTL
set BOARDNAME B-L475E-IOT01A2

#chipnames state
set CHIPNAME_CPU0_ACTIVATED 1

#enable debug in low power mode
set ENABLE_LOW_POWER 1

#stop watchdog counter when halt
set STOP_WATCHDOG 1

#ST-link debug clock freq
set CLOCK_FREQ 8000

#use hardware reset
#connect_assert_srst needed if low power mode application is running
reset_config srst_only srst_nogate connect_assert_srst
set CONNECT_UNDER_RESET 1

gdb_memory_map disable

source /usr/share/openocd/scripts/target/stm32l4x.cfg